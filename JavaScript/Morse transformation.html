<html>
    <head>
        <title>morse</title>
        <script type="text/javascript">
		<!-- https://github.com/hustcc/xmorse -->
        !function(e,r){"object"==typeof module&&module.exports?(module.exports=r(),module.exports.default=module.exports):e.xmorse=r()}("undefined"!=typeof window?window:this,function(){function e(e){return e=e||{},[e.space||"/",e.short||".",e.long||"-"]}function r(e){for(var r=[],n=0;n<e.length;n++)r[n]=("00"+e.charCodeAt(n).toString(16)).slice(-4);return r=r.join(""),r=parseInt(r,16).toString(2)}function n(n,o){o=e(o);var t=[];n=n.replace(/\s+/g,"").toLocaleUpperCase().split("");for(var u,a,i=0,c=n.length;i<c;i++)u=n[i],a=p[u],a||(a=r(u)),t.push(a.replace(/0/g,o[1]).replace(/1/g,o[2]));return t.join(o[0])}function o(e){return e=parseInt(e,2),isNaN(e)?"":unescape("%u"+e.toString(16))}function t(r,n){n=e(n);var t=[];r=r.split(n[0]);for(var p,a,i=0,c=r.length;i<c;i++)p=r[i].replace(/\s+/g,"").replace(new RegExp("\\"+n[1],"g"),"0").replace(new RegExp("\\"+n[2],"g"),"1"),a=u[p],a||(a=o(p)),t.push(a);return t.join("")}var p={A:"01",B:"1000",C:"1010",D:"100",E:"0",F:"0010",G:"110",H:"0000",I:"00",J:"0111",K:"101",L:"0100",M:"11",N:"10",O:"111",P:"0110",Q:"1101",R:"010",S:"000",T:"1",U:"001",V:"0001",W:"011",X:"1001",Y:"1011",Z:"1100",0:"11111",1:"01111",2:"00111",3:"00011",4:"00001",5:"00000",6:"10000",7:"11000",8:"11100",9:"11110",".":"010101",",":"110011","?":"001100","'":"011110","!":"101011","/":"10010","(":"10110",")":"101101","&":"01000",":":"111000",";":"101010","=":"10001","+":"01010","-":"100001",_:"001101",'"':"010010",$:"0001001","@":"011010"},u={};for(var a in p)u[p[a]]=a;return{encode:n,decode:t}});
        </script>
        <style type="text/css">
            body div{
                width:50%;    
            }
            form textarea{
                width: 100%;
            }
            div textarea{
                width: 100%;
            }
            form input{
                width:24%;
            }
        </style>
    </head>
    <body>
        <div style="border:1px solid forestgreen">
            <form>
                <textarea rows="10" id="input"></textarea><br/>
                Space: <input type='text' id='space' value='/' placeholder='space' />&nbsp;&nbsp;&nbsp;
                Short: <input type='text' id='short' value='.' placeholder='short' />&nbsp;&nbsp;&nbsp;
                Long: <input type='text' id='long' value='-' placeholder='long' /><br/>
                <br/>
                <input type="button" onclick="encode()" value="Encode morse code"/>
                <input type="button" onclick="decode()" value="Decode morse code" style="float:right"/>
            </form>
            <textarea rows="10" id="result"></textarea><br/>
        </div>
    </body>
    
    <script type="text/javascript">
        function $_(id){
            return document.getElementById(id);
        }
        function getoption(){
            return {
                space: $_('space').value,
                short: $_('short').value,
                long: $_('long').value,
            };
        }
        function encode(){
            $_('result').innerHTML = xmorse.encode($_('input').value, getoption());
        }
        function decode(){
            $_('result').innerHTML = xmorse.decode($_('input').value, getoption()) || 'Morse code is not valid.';
        }
    </script>
</html>